(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(65)},52:function(e,t,a){},57:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n,r,c,o=a(0),s=a.n(o),i=a(29),u=a.n(i),l=(a(52),a(16)),m=a(17),h=a(20),p=a(18),d=a(21),f=a(22),b=a(26),E=a(23),g=a(66),O=a(67),j=(a(57),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.name,n=e.image,r=e.summary;return s.a.createElement(g.a,{lg:"6",className:"preview t-preview",key:t},s.a.createElement(O.a,{className:"preview__card"},s.a.createElement(E.b,{to:"/shows/".concat(t),className:"preview__link t-link"},a),null!=n&&s.a.createElement("div",{className:"preview__image"},s.a.createElement("img",{className:"preview__image-pic",src:n,alt:a})),s.a.createElement("p",{className:"preview__descr",dangerouslySetInnerHTML:{__html:r}})))}}]),t}(o.PureComponent)),v=a(10),_=a(9),w=a(73),y=a(72),S=Object(y.a)("SEARCH_REQUEST","SEARCH_SUCCESS","SEARCH_FAILURE"),k=S.searchRequest,N=S.searchSuccess,C=S.searchFailure,R=Object(w.a)(Object(v.a)({},N,function(e,t){return t.payload}),[]),T=Object(w.a)((n={},Object(v.a)(n,k,function(){return!0}),Object(v.a)(n,N,function(){return!1}),Object(v.a)(n,C,function(){return!1}),n),!1),q=Object(w.a)(Object(v.a)({},C,function(e,t){return t.payload}),null),L=Object(_.c)({series:R,loading:T,error:q}),A=function(e){return null!=e?e.medium:"https://vignette.wikia.nocookie.net/the-darkest-minds/images/4/47/Placeholder.png/revision/latest?cb=20160927044640"},H=a(34),I=Object(H.a)(function(e){return e.search.series},function(e){return e.map(function(e){var t=e.id,a=e.name,n=e.image;return{id:t,name:a,summary:e.summary,image:A(n)}})}),P=function(e){return e.search.loading},B=function(e){return e.search.error},F=a(68),U=a(69),G=a(70),x=a(71),D=(a(61),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.handleSearchFieldInput=function(e){var t=e.target.value;a.setState({query:t})},a.handleSearchButtonClick=function(){var e=a.props.searchRequest,t=a.state.query;t&&e(t)},a.handleKeyPress=function(e){"Enter"===e.key&&a.handleSearchButtonClick()},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.query,t=this.props,a=t.series,n=t.isLoading,r=t.error;return s.a.createElement(F.a,null,n?s.a.createElement("div",null,"Searching ..."):s.a.createElement("div",{className:"search"},s.a.createElement("div",{className:"search__header"},s.a.createElement(U.a,{type:"text",placeholder:"Type name of the series",value:e,onKeyPress:this.handleKeyPress,onChange:this.handleSearchFieldInput}),s.a.createElement(G.a,{className:"search__btn",onClick:this.handleSearchButtonClick},"Search")),r?s.a.createElement("div",null,r):s.a.createElement(x.a,{className:"search__preview t-search-result"},a.map(function(e){var t=e.id,a=e.name,n=e.summary,r=e.image;return s.a.createElement(j,Object.assign({key:t},{id:t,name:a,summary:n,image:r}))}))))}}]),t}(o.PureComponent)),K={searchRequest:k},M=Object(f.f)(Object(b.b)(function(e){return{series:I(e),isLoading:P(e),error:B(e)}},K)(D)),W=Object(y.a)("GET_SHOW_REQUEST","GET_SHOW_SUCCESS","GET_SHOW_FAILURE"),z=W.getShowRequest,J=W.getShowSuccess,Q=W.getShowFailure,X=Object(w.a)(Object(v.a)({},J,function(e,t){return t.payload}),{}),V=Object(w.a)((r={},Object(v.a)(r,z,function(){return!0}),Object(v.a)(r,J,function(){return!1}),Object(v.a)(r,Q,function(){return!1}),r),!0),Y=Object(w.a)(Object(v.a)({},Q,function(e,t){return t.payload}),null),Z=Object(_.c)({show:X,loading:V,error:Y}),$=Object(H.a)(function(e){return e.shows.show},function(e){if(0===Object.keys(e).length)return e;var t=e.name,a=e.image,n=e.summary,r=e._embedded.cast.map(function(e){var t=e.person;return{name:t.name,image:A(t.image)}});return{name:t,image:A(a),summary:n,cast:r}}),ee=function(e){return e.shows.loading},te=function(e){return e.shows.error},ae=(a(62),a(63),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props;(0,e.getShowRequest)(e.match.params.id)},a.goBack=function(){a.props.history.goBack()},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"renderShow",value:function(e){var t=e.name,a=e.image,n=e.summary,r=e.cast;return s.a.createElement("div",{className:"show-page"},s.a.createElement("div",{className:"show-page__top"},s.a.createElement(G.a,{color:"primary",onClick:this.goBack,className:"show-page__link"},"Go back"),s.a.createElement("h1",{className:"show-page__title"},t),s.a.createElement("div",{className:"show-page__pic"},s.a.createElement("img",{className:"show-page__img",src:a,alt:t})),s.a.createElement("p",{className:"show-page__text",dangerouslySetInnerHTML:{__html:n}})),s.a.createElement("div",{className:"cast"},s.a.createElement("h2",null,"Cast"),s.a.createElement("div",{className:"cast__body"},r.map(function(e,t){return s.a.createElement("div",{className:"cast__person t-person",key:t},s.a.createElement("h3",null,s.a.createElement("p",null,e.name)),s.a.createElement("img",{src:e.image,alt:e.name}))}))))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.error,n=e.show;return s.a.createElement(o.Fragment,null,t?s.a.createElement("div",null,"Retrieving data ..."):a?s.a.createElement("p",null,a):this.renderShow(n))}}]),t}(o.PureComponent)),ne={getShowRequest:z},re=Object(f.f)(Object(b.b)(function(e){return{show:$(e),isLoading:ee(e),error:te(e)}},ne)(ae)),ce=(a(64),function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f.c,null,s.a.createElement(f.a,{path:"/shows/:id",component:re}),s.a.createElement(f.a,{exact:!0,path:"*",component:M})))}}]),t}(o.PureComponent)),oe=Object(f.f)(ce),se=Object(_.c)({search:L,shows:Z}),ie=function(e){return function(t){return function(a){if(a.type===z.toString()){var n=a.payload;(r=n,fetch("http://api.tvmaze.com/shows/".concat(r,"?embed=cast"),{method:"GET",mode:"cors"}).then(function(e){return e.json()})).then(function(t){e.dispatch(J(t))}).catch(function(t){e.dispatch(Q(t.toString()))})}var r;return t(a)}}},ue=function(e){return function(t){return function(a){a.type===k.toString()&&function(e){return fetch("http://api.tvmaze.com/search/shows?q=".concat(e),{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return e.show})})}(a.payload).then(function(t){e.dispatch(N(t))}).catch(function(t){e.dispatch(C(t.toString()))});return t(a)}}},le=Object(_.e)(se,c,Object(_.d)(Object(_.a)(ue,ie),window.devToolsExtension?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));u.a.render(s.a.createElement(E.a,null,s.a.createElement(b.a,{store:le},s.a.createElement(oe,null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.5dd3e09b.chunk.js.map